{
  "version": 3,
  "file": "visualization-points.js",
  "sources": [
    "ng://visualization-points/out/src/app/visualization-points/visualization-points.module.ts",
    "ng://visualization-points/out/src/app/visualization-points/components/visualization-configuration.component.ts",
    "ng://visualization-points/out/src/app/visualization-points/components/visualization-points.component.ts",
    "ng://visualization-points/out/src/app/visualization-points/injectables/visualization-points-evaluator.ts",
    "ng://visualization-points/out/src/app/visualization-points/injectables/visualization-points-maker.ts"
  ],
  "sourcesContent": [
    "import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { VisualizationPointsComponent } from './components/visualization-points.component';\r\nimport { VisualizationConfigurationComponent } from './components/visualization-configuration.component';\r\nimport { VisualizationPointsMaker } from './injectables/visualization-points-maker';\r\nimport { VisualizationPointsEvaluator } from './injectables/visualization-points-evaluator';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    VisualizationPointsComponent,\r\n    VisualizationConfigurationComponent,\r\n  ],\r\n  exports: [\r\n    VisualizationPointsComponent,\r\n    VisualizationConfigurationComponent,\r\n  ],\r\n  entryComponents: [\r\n    VisualizationPointsComponent,\r\n    VisualizationConfigurationComponent\r\n  ],\r\n  providers: [\r\n    VisualizationPointsMaker,\r\n    VisualizationPointsEvaluator\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class VisualizationPointsModule {}\r\n",
    "/*\r\n * tool to display result of a search on set of points of interests on objects.\r\n */\r\nimport {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  Renderer\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'visualization-configuration',\r\n  template: `<p class=\"info\">\r\n    <span>\r\n        Pick points are the attributes in which you want to evaluate. \r\n        Target keys are the attributes in which evaluated data will be presented on.\r\n    </span>\r\n    <span>\r\n        For example: if you are examining users and pick user age and city as pick points, \r\n        data will be evaluated on city and age. And if you pick user name and gender as target keys, \r\n        for each age and city reference, you will see the resulting data as name and age values.</span>\r\n</p>\r\n<fieldset class=\"pick-points\">\r\n    <legend>Pick Points:</legend>\r\n    <label *ngFor=\"let x of interestingPoints; let i = index\" [for]=\"'pickpoint' + i\">\r\n        <input\r\n            type=\"checkbox\" \r\n            name=\"pickpoint\" \r\n            [id]=\"'pickpoint' + i\" \r\n            [value]=\"x.value\" \r\n            [checked]=\"x.selected ? true: null\" \r\n            (keyup)=\"keyup($event)\"\r\n            (click)=\"click($event, x)\" />\r\n        <span [textContent]=\"x.value\"></span>\r\n    </label>\r\n</fieldset>\r\n<fieldset class=\"pick-points\">\r\n    <legend>Target Keys:</legend>\r\n    <label *ngFor=\"let x of targetKeys; let i = index\" [for]=\"'targetKey' + i\">\r\n        <input \r\n            type=\"checkbox\" \r\n            name=\"targetKey\" \r\n            [id]=\"'targetKey' + i\" \r\n            [value]=\"x.value\" \r\n            [checked]=\"x.selected ? true: null\" \r\n            (keyup)=\"keyup($event)\"\r\n            (click)=\"click($event, x)\" /> \r\n        <span [textContent]=\"x.value\"></span>\r\n    </label>   \r\n</fieldset>`,\r\n  styles: [`:host{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:table;\n  padding:5px; }\n  :host .info{\n    padding:5px 0;\n    margin:0;\n    font-size:0.9em; }\n  :host .pick-points{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    border:1px solid #633;\n    display:block;\n    float:left;\n    padding:0 0 5px 0;\n    width:50%;\n    margin:0;\n    border-radius:5px; }\n    :host .pick-points legend{\n      font-weight:bold;\n      margin-left:20px;\n      color:#633; }\n    :host .pick-points label{\n      display:inline-table;\n      width:33.33%; }\n      :host .pick-points label:hover{\n        color:#ca0000; }\n`],\r\n})\r\nexport class VisualizationConfigurationComponent {\r\n  \r\n  @Input(\"interestingPoints\")\r\n  interestingPoints = [];\r\n\r\n  @Input(\"targetKeys\")\r\n  targetKeys = [];\r\n\r\n  @Output(\"onchange\")\r\n  onchange = new EventEmitter();\r\n\r\n  constructor(private renderer: Renderer) {}\r\n\r\n  keyup(event) {\r\n    const code = event.which;\r\n    if (code === 13) {\r\n      this.renderer.invokeElementMethod(event.target, \"click\");\r\n\t\t}\r\n  }\r\n\r\n  click(event, item) {\r\n    const input = event.target;\r\n    item.selected = (input.checked);\r\n    this.onchange.emit({\r\n      points: this.interestingPoints,\r\n      keys: this.targetKeys\r\n    });\r\n  }\r\n}\r\n",
    "/*\r\n * tool to display result of a search on set of points of interests on objects.\r\n */\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  OnChanges,\r\n  AfterViewInit ,\r\n  Input,\r\n  Output,\r\n  ViewChild,\r\n  EventEmitter\r\n} from '@angular/core';\r\n\r\nimport { VisualizationPointsMaker } from '../injectables/visualization-points-maker';\r\nimport { VisualizationPointsEvaluator } from '../injectables/visualization-points-evaluator';\r\n\r\n@Component({\r\n  selector: 'visualization-points',\r\n  template: `\r\n\r\n<div class=\"configuration\" *ngIf=\"enableConfiguration && interestingPoints\">\r\n    <visualization-configuration\r\n        [interestingPoints]=\"interestingPoints\"\r\n        [targetKeys]=\"targetKeys\"\r\n        (onchange)=\"onchange($event)\"></visualization-configuration>\r\n</div>\r\n<div class=\"d3-container\" id=\"d3-container\" #d3Container></div>\r\n`,\r\n  styles: [`:host{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:table;\n  position:relative;\n  width:100%; }\n  :host #d3-container{\n    border:1px solid #ddd;\n    padding:0 5px;\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    border-radius:5px;\n    background-color:#fefefe;\n    margin:5px; }\n  :host ::ng-deep .node circle{\n    cursor:pointer;\n    fill:#fff;\n    stroke:steelblue;\n    stroke-width:1.5px; }\n  :host ::ng-deep .node text{\n    font-size:11px;\n    font-weight:bold; }\n  :host ::ng-deep path.link{\n    fill:none;\n    stroke:#ccc;\n    stroke-width:1.5px; }\n`],\r\n})\r\nexport class VisualizationPointsComponent implements OnInit, AfterViewInit, OnChanges  {\r\n\r\n  private evaluatedPoints = {};\r\n  \r\n  @Input(\"interestingPoints\")\r\n  interestingPoints = [];\r\n\r\n  @Input(\"targetKeys\")\r\n  targetKeys = [];\r\n\r\n  @Input(\"data\")\r\n  data: any;\r\n\r\n  @Input(\"enableConfiguration\")\r\n  enableConfiguration: boolean;\r\n\r\n  @Output(\"onVisualization\")\r\n  onVisualization = new EventEmitter();\r\n\r\n  @ViewChild(\"d3Container\")\r\n  d3Container;\r\n\r\n  private sizeUp(points) {\r\n    const size = (points.children && points.children.length) ? points.children.length : undefined;\r\n    if (size) {\r\n      points.name += points.children.length > 1 ? \" (\" + size + \")\" : \"\";\r\n      points.children.map( (p) => {\r\n        this.sizeUp(p);\r\n      })\r\n    }\r\n    return points;\r\n  }\r\n  private triggerEvaluation(points, primaries) {\r\n    if (points.length && primaries.length) {\r\n      this.d3Container.nativeElement.innerHTML = \"\";\r\n      this.evaluatedPoints = this.evaluator.evaluatePoints(this.data, points, primaries);\r\n      const sizedupPoints = this.sizeUp(JSON.parse(JSON.stringify(this.evaluatedPoints)));\r\n      window['initiateD3'](sizedupPoints, \"#d3-container\");\r\n      this.onVisualization.emit(this.evaluatedPoints);\r\n    } else {\r\n      this.d3Container.nativeElement.innerHTML = \"\";\r\n      this.onVisualization.emit([]);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private pointMaker: VisualizationPointsMaker, \r\n    private evaluator: VisualizationPointsEvaluator\r\n  ) {\r\n  }\r\n\r\n  ngOnChanges(chages) {\r\n\r\n    if (chages.data) {\r\n      this.interestingPoints = undefined;\r\n      this.targetKeys =undefined;\r\n      setTimeout(this.ngOnInit.bind(this), 333);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    if( !(this.data instanceof Array)) {\r\n      this.data = [this.data];\r\n    }\r\n    if (this.data.length && this.enableConfiguration) {\r\n      const root = (this.data instanceof Array) ? this.data[0] : this.data;\r\n      const points = this.pointMaker.generatePoints(root, \"\", true);\r\n      this.interestingPoints = points;\r\n      this.targetKeys = JSON.parse(JSON.stringify(points));\r\n    }\r\n    this.triggerEvaluation(\r\n      this.sanitize(this.interestingPoints),\r\n      this.sanitize(this.targetKeys)\r\n    );\r\n  }\r\n\r\n  async ngAfterViewInit() {\r\n    await this.loadScript(\"assets/d3.js\", 'd3js');\r\n \t}\r\n   \r\n\tprivate loadScript(url, id) {    \r\n    return new Promise((resolve, reject) => {\r\n      const script = document.getElementById(id);\r\n      if (!script) {\r\n        const scriptElement = document.createElement('script');\r\n     \r\n        scriptElement.type = \"text/javascript\";\r\n        scriptElement.src = url;\r\n        scriptElement.id = id;\r\n        scriptElement.onload = resolve;\r\n        \r\n        document.body.appendChild(scriptElement);\r\n      }\r\n\t\t})\r\n  }\r\n  \r\n  private sanitize(list) {\r\n    const sanitizedPoints = [];\r\n    if (list && list.length) {\r\n      list.map((point) => {\r\n        if (point.selected) {\r\n          sanitizedPoints.push({\r\n            key : point.key,\r\n            value: point.value\r\n          });\r\n        }\r\n      });\r\n    }\r\n    return sanitizedPoints;\r\n  }\r\n  onchange(event) {\r\n    this.triggerEvaluation(\r\n      this.sanitize(event.points),\r\n      this.sanitize(event.keys)\r\n    );\r\n  }\r\n\r\n}\r\n",
    "/*\r\n * This object will traverse through a given json object and finds all the attributes of \r\n * the object and its related associations within the json. The resulting structure would be \r\n * name of attributes and a pathway to reach the attribute deep in object heirarchy.\r\n */\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable()\r\nexport class VisualizationPointsEvaluator {\r\n  private pushIfNotContain(array, entry) {\r\n    let found = false;\r\n    array.map( (item) => {\r\n      if (item.name.indexOf(entry.name) > -1) {\r\n        found = true;\r\n      }\r\n    });\r\n    if (!found) {\r\n      array.push(entry);\r\n    }\r\n  }\r\n\r\n  private pushInList(list, item, displayData) {\r\n    let found = false;\r\n\r\n    list.map( (subItem) => {\r\n      if (subItem.name === item) {\r\n        found = true;\r\n        this.pushIfNotContain(subItem.children, displayData);\r\n      }\r\n    });\r\n    if (!found) {\r\n      list.push({\r\n        name: item,\r\n        children: [displayData]\r\n      });\r\n    }\r\n  }\r\n\r\n  private eveluate( pItem:any, path: any[]) {\r\n    for (let i = 0; i < path.length; i++) {\r\n      pItem = pItem ? pItem[path[i]] : null;\r\n      if (pItem instanceof Array) {\r\n        const list = [];\r\n        pItem.map( (item) => {\r\n          list.push(this.eveluate(item, path.slice(i+1,path.length)));\r\n        });\r\n        pItem = list;\r\n        break;\r\n      }\r\n    }\r\n    return pItem;\r\n  }\r\n  private makeWords(name) {\r\n    return name\r\n            .replace(/([A-Z])/g, ' $1')\r\n            .replace(/-/g,\" \")\r\n            .replace(/_/g,\" \")\r\n            .replace(/^./, (str) => str.toUpperCase());\r\n  }\r\n\r\n  evaluatePoints(data: any[], pickPoints: any[], primarys: any[]) {\r\n\r\n    const innerMap = {};\r\n\r\n    pickPoints.map( (point) => {\r\n      innerMap[point.value] = [];\r\n    });\r\n\r\n    data.map( (item) => {\r\n      let displayData: any = [];\r\n\r\n      primarys.map( (point) => {\r\n        const path = point.key.split(\".\");\r\n        let pItem = item;\r\n\r\n        path.map( (key) => {\r\n          pItem = pItem ? pItem[key] : null;\r\n        });\r\n        if (pItem) {\r\n          displayData.push(pItem);\r\n        }\r\n      });\r\n      displayData = displayData.join(\", \");      \r\n\r\n      pickPoints.map( (point) => {\r\n        const path = point.key.split(\".\");\r\n        const list = innerMap[point.value];\r\n        const pItem: any = this.eveluate(item, path);\r\n        let found = false;\r\n\r\n        if (pItem instanceof Array) {\r\n          pItem.map( (p) => {\r\n            this.pushInList(list, p, {name: displayData});\r\n          });\r\n        }else if (typeof pItem === \"string\") {\r\n          this.pushInList(list, pItem,{name: displayData});\r\n        }else if (typeof pItem === \"boolean\") {\r\n          this.pushInList(list, (pItem ? \"true\":\"false\"),{name: displayData});\r\n        }else if (pItem) {\r\n          this.pushInList(list, pItem,{name: displayData});\r\n        } else {\r\n          this.pushIfNotContain(list, {name: displayData} );\r\n        }\r\n      });\r\n    });\r\n\r\n    const rootList = [];\r\n    Object.keys(innerMap).map( (key) => {\r\n      rootList.push({\r\n        name: this.makeWords(key),\r\n        children: innerMap[key]\r\n      });\r\n    })\r\n    return {\r\n      name: \"/\",\r\n      children: rootList\r\n    };\r\n  }\r\n}\r\n",
    "/*\r\n * This object will traverse through a given json object and finds all the attributes of \r\n * the object and its related associations within the json. The resulting structure would be \r\n * name of attributes and a pathway to reach the attribute deep in object heirarchy.\r\n */\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\nexport interface VisualizationPoint {\r\n  key: string,\r\n  value: string\r\n}\r\n\r\n@Injectable()\r\nexport class VisualizationPointsMaker {\r\n  private points: VisualizationPoint[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  generatePoints(root: {}, path: string, clear: boolean) {\r\n\r\n    if (clear) {\r\n      this.points = [];\r\n    }\r\n    Object.keys(root).map( (key) => {\r\n      const innerPath = (path.length ? (path + \".\" + key) : key);\r\n\r\n      if (typeof root[key] === \"string\" || typeof root[key] === \"number\" || typeof root[key] === \"boolean\") {\r\n        this.points.push({\r\n          key: innerPath,\r\n          value: this.makeWords(innerPath)\r\n        })\r\n      } else if (root[key] instanceof Array) {\r\n        const node = root[key];\r\n        if (node.length && !(node[0] instanceof Array) && (typeof node[0] !== \"string\")) {\r\n          this.generatePoints(node[0], innerPath, false);\r\n        } else {\r\n          this.points.push({\r\n            key: innerPath,\r\n            value: this.makeWords(innerPath)\r\n          })\r\n        }\r\n      } else {\r\n        this.generatePoints(root[key], innerPath, false);\r\n      }\r\n    });\r\n\r\n    return this.points;\r\n  }\r\n\r\n  private makeWords(name) {\r\n    return name\r\n            .replace(/\\./g,' ')\r\n            .replace(/([A-Z])/g, ' $1')\r\n            .replace(/-/g,\" \")\r\n            .replace(/_/g,\" \")\r\n            .replace(/^./, (str) => str.toUpperCase());\r\n  }\r\n}\r\n"
  ],
  "names": [],
  "mappings": "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"
}
